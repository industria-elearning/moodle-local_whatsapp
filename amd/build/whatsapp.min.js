define("local_whatsapp/whatsapp",["exports","./utils/render"],(function(_exports,_render){function sendWhatsappMessage(_ref2){let{phonenumber:phonenumber,message:message}=_ref2,apilink="http://";apilink+=verifyIfMobile()?"api":"web",apilink+=".whatsapp.com/send?phone="+phonenumber+"&text="+encodeURI(message),window.open(apilink)}function verifyIfMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function togglePopup(){const popup=document.getElementById("local_whatsapp_popup"),inputMessage=document.getElementById("local_whatsapp_input_message");popup.classList.contains("active")?popup.classList.remove("active"):(popup.classList.add("active"),inputMessage.focus())}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=
/**
   * TODO describe module watsapp
   *
   * @module     local_whatsapp/whatsapp
   * @copyright  2024 Industria Elearning <info@industriaelearning.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
async function(_ref){let{phonenumber:phonenumber,popupmessage:popupmessage,headertitle:headertitle,position:position,whatsappicon:whatsappicon,sendicon:sendicon}=_ref;await(0,_render.renderTemplate)("local_whatsapp/floating_button",{popupmessage:popupmessage,headertitle:headertitle,position:position,whatsappicon:whatsappicon,sendicon:sendicon});const floatingButton=document.getElementById("local_whatsapp_floating_button"),closeButton=document.getElementById("local_whatsapp_close_button"),buttonSend=document.getElementById("local_whatsapp_button_send"),inputMessage=document.getElementById("local_whatsapp_input_message");floatingButton.addEventListener("click",togglePopup),closeButton.addEventListener("click",togglePopup),buttonSend.addEventListener("click",(()=>{sendWhatsappMessage({phonenumber:phonenumber,message:inputMessage.value})})),inputMessage.addEventListener("keypress",(event=>{"Enter"!==event.key||event.shiftKey||verifyIfMobile()||(event.preventDefault(),sendWhatsappMessage({phonenumber:phonenumber,message:inputMessage.value}))}))}}));

//# sourceMappingURL=whatsapp.min.js.map