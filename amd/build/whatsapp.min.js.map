{"version":3,"file":"whatsapp.min.js","sources":["../src/whatsapp.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module watsapp\n *\n * @module     local_whatsapp/whatsapp\n * @copyright  2024 Industria Elearning <info@industriaelearning.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport { renderTemplate } from \"./utils/render\";\n\n// 'phonenumber' => $phonenumber,\n// 'popupmessage' => $popupmessage,\n// 'headertitle' => $headertitle,\n// 'showpopup' => $showpopup,\n// 'position' => $position,\n// 'whatsappicon' => $whatsappicon,\n\n/**\n * Init function for render floating whatsapp\n *\n * @param {Object} settings\n * @param {number} settings.phonenumber\n * @param {string} settings.popupmessage\n * @param {string} settings.headertitle\n * @param {boolean} settings.showpopup\n * @param {string} settings.position\n * @param {string} settings.whatsappicon\n * @param {string} settings.sendicon\n */\nexport async function init({\n  phonenumber,\n  popupmessage,\n  headertitle,\n  showpopup,\n  position,\n  whatsappicon,\n  sendicon,\n}) {\n  await renderTemplate(\"local_whatsapp/floating_button\", {\n    phonenumber,\n    popupmessage,\n    headertitle,\n    showpopup,\n    position,\n    whatsappicon,\n    sendicon\n  });\n  const floatingButton = document.getElementById(\n    \"local_whatsapp_floating_button\"\n  );\n\n  floatingButton.addEventListener(\"click\", () => {\n    openPopup();\n  });\n}\n\n/**\n * Check if browser is on a mobile device\n *\n * @returns {boolean} true if mobile or false if not\n */\n// function isMobile() {\n//   const regex =\n//     /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;\n//   return regex.test(navigator.userAgent);\n// }\n\n/**\n *\n */\nfunction openPopup() {\n  const popup = document.getElementById(\"local_whatsapp_popup\");\n  popup.classList.add(\"active\");\n\n  // if (!$popup.hasClass('active')) {\n  //     $popup.addClass('active');\n  //     $textarea.focus();\n  // }\n}\n"],"names":["phonenumber","popupmessage","headertitle","showpopup","position","whatsappicon","sendicon","document","getElementById","addEventListener","classList","add"],"mappings":";;;;;;;;yBA4C2BA,YACzBA,YADyBC,aAEzBA,aAFyBC,YAGzBA,YAHyBC,UAIzBA,UAJyBC,SAKzBA,SALyBC,aAMzBA,aANyBC,SAOzBA,qBAEM,0BAAe,iCAAkC,CACrDN,YAAAA,YACAC,aAAAA,aACAC,YAAAA,YACAC,UAAAA,UACAC,SAAAA,SACAC,aAAAA,aACAC,SAAAA,WAEqBC,SAASC,eAC9B,kCAGaC,iBAAiB,SAAS,KAoB3BF,SAASC,eAAe,wBAChCE,UAAUC,IAAI"}